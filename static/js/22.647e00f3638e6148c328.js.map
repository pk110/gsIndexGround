{"version":3,"sources":["webpack:///src/pages/tags.vue","webpack:///./src/pages/tags.vue?591a","webpack:///./src/pages/tags.vue"],"names":["tags","data","totalPages","pageSize","currentPage","tagsImg","name","products","lastUpdata","edit","search","form","tagsName","rules","required","message","trigger","min","max","tagsBox","fileList","currentImgIndex","currentData","methods","submit","formName","_this","this","$refs","validate","valid","$message","error","resetForm","ruleForm","resetFields","index","i","length","$set","uploadImg","val","$stamp","getListTagsImg","push","url","check","cancel","date","close","$delete","searchTags","addTags","getCurrentPage","getTagsImg","img","computed","components","imgs","pages","created","pages_tags","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","color","background-color","padding","border-radius","attrs","size","on","click","_v","width","placeholder","prefix-icon","blur","model","value","callback","$$v","expression","margin-top","label","align","scopedSlots","_u","key","fn","scope","src","row","action","auto-upload","limit","show-file-list","on-change","file-list","$event","$index","prop","directives","rawName","minlength","maxlength","_s","changeCurrentPage","title","visible","center","update:visible","ref","label-width","files","limitImg","imgFiles","slot","border","type","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/22.647e00f3638e6148c328.js","sourcesContent":["<template>\r\n  <div>\r\n    <!--头部-->\r\n    <div class=\"tags_head\">\r\n      <el-button size=\"small\" style=\"color:#fff;background-color:#ed6f00;padding:9px 15px;border-radius:30px;\" @click=\"addTags\"><i class=\"el-icon-plus\"></i>&nbsp;添加标签</el-button>\r\n      <el-input\r\n        style=\"width:240px;\"\r\n        size=\"small\"\r\n        placeholder=\"搜索\"\r\n        class=\"tags_search\"\r\n        prefix-icon=\"el-icon-search\"\r\n        v-model=\"search\"\r\n        @blur=\"searchTags\">\r\n      </el-input>\r\n    </div>\r\n    <!--身体部分-->\r\n    <el-table\r\n      :data=\"data\"\r\n      style=\"width: 100%;margin-top:20px;\"\r\n      class=\"tags_table\">\r\n      <el-table-column\r\n        label=\"图标\"\r\n        align=\"center\"\r\n        width=\"180\">\r\n        <template slot-scope=\"scope\">\r\n          <img :src=\"scope.row.tagsImg\" class=\"tags_imgs\"/>\r\n          <el-upload\r\n            action=''\r\n            :auto-upload=\"false\"\r\n            class=\"upload_listImg\"\r\n            :limit=\"1\"\r\n            :show-file-list=\"false\"\r\n            :on-change=\"getListTagsImg\"\r\n            :file-list=\"fileList\"\r\n            v-if=\"scope.row.edit == true\">\r\n            <i class=\"el-icon-close\" @click=\"uploadImg(scope.$index)\"></i>\r\n          </el-upload>\r\n          <div v-else></div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"name\"\r\n        label=\"名称\"\r\n        align=\"center\"\r\n        width=\"180\">\r\n        <template slot-scope=\"scope\">\r\n          <el-input v-model=\"scope.row.name\" size=\"mini\" placeholder=\"请输入标签名称\" minlength=\"1\" maxlength=\"10\" v-focus v-if=\"scope.row.edit == true\"></el-input>\r\n          <span v-else>{{scope.row.name}}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        align=\"center\"\r\n        label=\"包含商品\">\r\n        <template slot-scope=\"scope\">\r\n          {{scope.row.products}}个\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"lastUpdata\"\r\n        align=\"center\"\r\n        label=\"最后更新时间\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"操作\"\r\n        align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <div class=\"tags_edit\" v-if=\"scope.row.edit == false\" @click=\"edit(scope.$index,scope.row)\">编辑</div>\r\n          <div class=\"tags_check\" v-else @click=\"check(scope.$index,scope.row)\">确认</div>\r\n          <div class=\"tags_chose\" v-if=\"scope.row.edit == false\" @click=\"close(scope.$index,scope.row)\">删除</div>\r\n          <div class=\"tags_cancel\" v-else @click=\"cancel(scope.$index,scope.row)\">取消</div>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!--分页-->\r\n    <pages :pageSize=\"pageSize\" :totalPages=\"totalPages\" @changeCurrentPage=\"getCurrentPage\" />\r\n    <!--弹窗-->\r\n    <el-dialog title=\"发布标签\" :visible.sync=\"tagsBox\" width=\"40%\" center>\r\n      <el-form :model=\"form\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"120px\">\r\n        <el-form-item label=\"新增品类:\" prop=\"tagsName\">\r\n          <el-input v-model=\"form.tagsName\" style=\"width:250px;\" placeholder=\"请输入品类名称\"></el-input>\r\n          <p style=\"color:#E51C23\">* 品类修改会对商家造成一定影响，新增、删除、修改之前需经过部门领导审批同意</p>\r\n        </el-form-item>\r\n        <el-form-item label=\"图标:\" prop=\"tagsImg\">\r\n          <imgs :files=\"form.tagsImg\" class=\"tags_img\" :limitImg=\"1\" @imgFiles=\"getTagsImg\" />  \r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button style=\"background-color:#ff3b21;color:#fff;border:0;padding:7px 20px;border-radius:30px;\" type=\"primary\" @click=\"submit('ruleForm')\">确 定</el-button>\r\n        <el-button style=\"background-color:#000;color:#fff;padding:7px 20px;border-radius:30px;\" @click=\"resetForm('ruleForm')\">重 置</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport imgs from './../components/img.vue'\r\nimport pages from './../components/pages.vue'\r\nexport default {\r\n    data () {\r\n      return {\r\n        totalPages:4,\r\n        pageSize:10,\r\n        currentPage:1,\r\n        data:[{\r\n          tagsImg:'https://ss3.baidu.com/-rVXeDTa2gU2pMbgoY3K/it/u=229445282,848378121&fm=202&mola=new&crop=v1',\r\n          name:'优质品牌1',\r\n          products:'102',\r\n          lastUpdata:'2016-08-09 13:18',\r\n          edit:false\r\n        },{\r\n          tagsImg:'https://ss3.baidu.com/-rVXeDTa2gU2pMbgoY3K/it/u=229445282,848378121&fm=202&mola=new&crop=v1',\r\n          name:'优质品牌2',\r\n          products:'102',\r\n          lastUpdata:'2016-08-09 13:18',\r\n          edit:false\r\n        },{\r\n          tagsImg:'https://ss3.baidu.com/-rVXeDTa2gU2pMbgoY3K/it/u=229445282,848378121&fm=202&mola=new&crop=v1',\r\n          name:'优质品牌3',\r\n          products:'102',\r\n          lastUpdata:'2016-08-09 13:18',\r\n          edit:false\r\n        },{\r\n          tagsImg:'https://ss3.baidu.com/-rVXeDTa2gU2pMbgoY3K/it/u=229445282,848378121&fm=202&mola=new&crop=v1',\r\n          name:'优质品牌4',\r\n          products:'102',\r\n          lastUpdata:'2016-08-09 13:18',\r\n          edit:false\r\n        }],\r\n        search:'',\r\n        form:{\r\n          tagsName:'',\r\n          tagsImg:[]\r\n        },\r\n        rules: {\r\n          tagsName: [\r\n            { required: true, message: '请输入标签名称', trigger: 'blur' },\r\n            { min: 1, max: 10, message: '长度在 1 到 10 个字符', trigger: 'blur' }\r\n          ],\r\n          tagsImg: [\r\n            { required: true, message: '请添加图标', trigger: 'blur' }\r\n          ]\r\n        },\r\n        tagsBox:false,\r\n        fileList:[],\r\n        currentImgIndex:0,\r\n        currentData:{}\r\n      }\r\n    },\r\n    methods:{\r\n      //提交表单\r\n      submit(formName) {\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            \r\n          } else {\r\n            this.$message.error('error submit!!');\r\n            return false;\r\n          }\r\n        });\r\n      },\r\n      //重置表单\r\n      resetForm(ruleForm){\r\n        this.$refs[ruleForm].resetFields();\r\n      },\r\n      //编辑按钮\r\n      edit(index,data){\r\n        // 只准编辑其中一个\r\n        for(let i = 0;i<this.data.length;i++){\r\n          if(i == index){\r\n            this.currentData = data\r\n            this.$set(this.data,index,{\r\n              tagsImg:data.tagsImg,\r\n              name:data.name,\r\n              products:data.products,\r\n              lastUpdata:data.lastUpdata,\r\n              edit:true\r\n            })\r\n          }else{\r\n            this.$set(this.data,i,{\r\n              tagsImg:this.data[i].tagsImg,\r\n              name:this.data[i].name,\r\n              products:this.data[i].products,\r\n              lastUpdata:this.data[i].lastUpdata,\r\n              edit:false\r\n            })\r\n          }\r\n        }\r\n      },\r\n      //开启选图片的索引\r\n      uploadImg(val){\r\n        this.$stamp(null,val)\r\n        this.currentImgIndex = val\r\n      },\r\n      //上传图片\r\n      getListTagsImg(val){\r\n        this.fileList.push(val)\r\n        this.$stamp(null,this.fileList)\r\n        this.$stamp(null,this.currentImgIndex)\r\n        this.$set(this.data,this.currentImgIndex,{\r\n          tagsImg:this.fileList[0].url,\r\n          name:this.data[this.currentImgIndex].name,\r\n          products:this.data[this.currentImgIndex].products,\r\n          lastUpdata:this.data[this.currentImgIndex].lastUpdata,\r\n          edit:this.data[this.currentImgIndex].edit\r\n        })\r\n        this.fileList = []\r\n      },\r\n      //勾选按钮\r\n      check(index,data){\r\n        if(data.name == ''){\r\n          this.$message.error('标签名称不能为空')\r\n          return false\r\n        }else{\r\n          this.$set(this.data,index,{\r\n            tagsImg:data.tagsImg,\r\n            name:data.name,\r\n            products:data.products,\r\n            lastUpdata:data.lastUpdata,\r\n            edit:false\r\n          })\r\n        }\r\n      },\r\n      //取消按钮\r\n      cancel(index,date){\r\n        this.$set(this.data,index,{\r\n          tagsImg:this.currentData.tagsImg,\r\n          name:this.currentData.name,\r\n          products:this.currentData.products,\r\n          lastUpdata:this.currentData.lastUpdata,\r\n          edit:false\r\n        })\r\n      },\r\n      //删除按钮\r\n      close(index,data){\r\n        this.$delete(this.data,index)\r\n        //计算页数\r\n        this.totalPages--\r\n      },\r\n      //搜索\r\n      searchTags(){\r\n        this.$stamp(null,this.search)\r\n      },\r\n      //添加标签\r\n      addTags(){\r\n        this.tagsBox = true\r\n      },\r\n      //获取当前页数\r\n      getCurrentPage(val){\r\n        this.$stamp(null,`获取的当前页数${val}`)\r\n        this.currentPage = val\r\n      },\r\n      //获得图标图片\r\n      getTagsImg(img){\r\n        this.$stamp(null,img)\r\n        this.form.tagsImg = img\r\n      }\r\n    },\r\n    computed: {\r\n      \r\n    },\r\n    components: {\r\n      imgs,\r\n      pages\r\n    },\r\n    created(){\r\n\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n  .tags_head{\r\n    display:flex;\r\n    justify-content:space-between;\r\n    align-items:center;\r\n  }\r\n  .tags_img li,.tags_img .el-upload-list{\r\n    width:100px!important;\r\n    height:100px!important;\r\n    line-height: 1;\r\n  }\r\n  .tags_img .el-upload--picture-card{\r\n    width:100px!important;\r\n    height:100px!important;\r\n    line-height:100px;\r\n  }\r\n  .tags_imgs{\r\n    width:30px;\r\n    height:30px;\r\n    border-radius:100%;\r\n    margin-top: 8px;\r\n  }\r\n  .tags_edit{\r\n    display:inline-block;\r\n    border-radius:30px;\r\n    color:#fff;\r\n    box-sizing:border-box;\r\n    padding:5px 17px;\r\n    background-color:#ed6f00;\r\n    cursor:pointer;\r\n  }\r\n  .tags_check{\r\n    display:inline-block;\r\n    border-radius:30px;\r\n    color:#ed6f00;\r\n    box-sizing:border-box;\r\n    padding:5px 17px;\r\n    border:1px solid #ed6f00;\r\n    cursor:pointer;\r\n  }\r\n  .tags_cancel{\r\n    display:inline-block;\r\n    border-radius:30px;\r\n    color:#fff;\r\n    box-sizing:border-box;\r\n    padding:5px 17px;\r\n    background-color:#000;\r\n    cursor:pointer;\r\n  }\r\n  .tags_chose{\r\n    display:inline-block;\r\n    border-radius:30px;\r\n    color:#fff;\r\n    box-sizing:border-box;\r\n    padding:5px 17px;\r\n    background-color:#000;\r\n    cursor:pointer;\r\n  }\r\n  .tags_closeImg:before{\r\n    content:'×';\r\n    width:10px;\r\n    height:10px;\r\n    color:red;    \r\n    position: relative;\r\n    left: 40px;\r\n    top: -6px;\r\n    cursor: pointer;\r\n  }\r\n  .upload_listImg{\r\n    display:inline-block;\r\n  }\r\n  .upload_listImg i{\r\n    color:#fff;\r\n    background-color:#000;\r\n    border-radius:100%;\r\n    cursor:pointer;\r\n  }\r\n  .tags_table i{\r\n    font-size: 18px;\r\n  }\r\n  .tags_table thead tr th{\r\n\t  background-color: #494949;\r\n    color:#ffffff;\r\n  }\r\n  .tags_table thead tr th:nth-child(1){\r\n    border-radius:5px 0 0 0;\r\n  }\r\n  .tags_table thead tr th:nth-child(5){\r\n    border-radius:0 5px 0 0;\r\n  }\r\n  .tags_search input{\r\n    border:0;\r\n    border-radius:30px;\r\n  }\r\n  .tags_search .el-input__inner{\r\n    height:33px;\r\n  }\r\n  .tags_search .el-input__suffix{\r\n    color:#FF9800;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/tags.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"tags_head\"},[_c('el-button',{staticStyle:{\"color\":\"#fff\",\"background-color\":\"#ed6f00\",\"padding\":\"9px 15px\",\"border-radius\":\"30px\"},attrs:{\"size\":\"small\"},on:{\"click\":_vm.addTags}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\" 添加标签\")]),_vm._v(\" \"),_c('el-input',{staticClass:\"tags_search\",staticStyle:{\"width\":\"240px\"},attrs:{\"size\":\"small\",\"placeholder\":\"搜索\",\"prefix-icon\":\"el-icon-search\"},on:{\"blur\":_vm.searchTags},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_vm._v(\" \"),_c('el-table',{staticClass:\"tags_table\",staticStyle:{\"width\":\"100%\",\"margin-top\":\"20px\"},attrs:{\"data\":_vm.data}},[_c('el-table-column',{attrs:{\"label\":\"图标\",\"align\":\"center\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{staticClass:\"tags_imgs\",attrs:{\"src\":scope.row.tagsImg}}),_vm._v(\" \"),(scope.row.edit == true)?_c('el-upload',{staticClass:\"upload_listImg\",attrs:{\"action\":\"\",\"auto-upload\":false,\"limit\":1,\"show-file-list\":false,\"on-change\":_vm.getListTagsImg,\"file-list\":_vm.fileList}},[_c('i',{staticClass:\"el-icon-close\",on:{\"click\":function($event){_vm.uploadImg(scope.$index)}}})]):_c('div')]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"名称\",\"align\":\"center\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.edit == true)?_c('el-input',{directives:[{name:\"focus\",rawName:\"v-focus\"}],attrs:{\"size\":\"mini\",\"placeholder\":\"请输入标签名称\",\"minlength\":\"1\",\"maxlength\":\"10\"},model:{value:(scope.row.name),callback:function ($$v) {_vm.$set(scope.row, \"name\", $$v)},expression:\"scope.row.name\"}}):_c('span',[_vm._v(_vm._s(scope.row.name))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"包含商品\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.products)+\"个\\n      \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"lastUpdata\",\"align\":\"center\",\"label\":\"最后更新时间\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.edit == false)?_c('div',{staticClass:\"tags_edit\",on:{\"click\":function($event){_vm.edit(scope.$index,scope.row)}}},[_vm._v(\"编辑\")]):_c('div',{staticClass:\"tags_check\",on:{\"click\":function($event){_vm.check(scope.$index,scope.row)}}},[_vm._v(\"确认\")]),_vm._v(\" \"),(scope.row.edit == false)?_c('div',{staticClass:\"tags_chose\",on:{\"click\":function($event){_vm.close(scope.$index,scope.row)}}},[_vm._v(\"删除\")]):_c('div',{staticClass:\"tags_cancel\",on:{\"click\":function($event){_vm.cancel(scope.$index,scope.row)}}},[_vm._v(\"取消\")])]}}])})],1),_vm._v(\" \"),_c('pages',{attrs:{\"pageSize\":_vm.pageSize,\"totalPages\":_vm.totalPages},on:{\"changeCurrentPage\":_vm.getCurrentPage}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"发布标签\",\"visible\":_vm.tagsBox,\"width\":\"40%\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.tagsBox=$event}}},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"新增品类:\",\"prop\":\"tagsName\"}},[_c('el-input',{staticStyle:{\"width\":\"250px\"},attrs:{\"placeholder\":\"请输入品类名称\"},model:{value:(_vm.form.tagsName),callback:function ($$v) {_vm.$set(_vm.form, \"tagsName\", $$v)},expression:\"form.tagsName\"}}),_vm._v(\" \"),_c('p',{staticStyle:{\"color\":\"#E51C23\"}},[_vm._v(\"* 品类修改会对商家造成一定影响，新增、删除、修改之前需经过部门领导审批同意\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"图标:\",\"prop\":\"tagsImg\"}},[_c('imgs',{staticClass:\"tags_img\",attrs:{\"files\":_vm.form.tagsImg,\"limitImg\":1},on:{\"imgFiles\":_vm.getTagsImg}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticStyle:{\"background-color\":\"#ff3b21\",\"color\":\"#fff\",\"border\":\"0\",\"padding\":\"7px 20px\",\"border-radius\":\"30px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submit('ruleForm')}}},[_vm._v(\"确 定\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"background-color\":\"#000\",\"color\":\"#fff\",\"padding\":\"7px 20px\",\"border-radius\":\"30px\"},on:{\"click\":function($event){_vm.resetForm('ruleForm')}}},[_vm._v(\"重 置\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-0a220830\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/tags.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0a220830\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./tags.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./tags.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./tags.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0a220830\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./tags.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/tags.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}