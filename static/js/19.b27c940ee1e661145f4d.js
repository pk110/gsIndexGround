webpackJsonp([19],{"+hoA":function(t,e){},rAGg:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={data:function(){return{pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-6048e5),t.$emit("pick",[i,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-2592e6),t.$emit("pick",[i,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-7776e6),t.$emit("pick",[i,e])}}]},citys:[{name:"武汉"},{name:"成都"},{name:"上海"}],hotDetailBox:!1,hotDetailBoxInner:!1,times:["全部","全天","0:00-12:00","12:00-18:00","18:00-24:00"],timeIs:!1,productsList:[{productId:1,name:"鱼香肉丝",price:12,image:"https://ss3.baidu.com/-rVXeDTa2gU2pMbgoY3K/it/u=229445282,848378121&fm=202&mola=new&crop=v1"},{productId:2,name:"鱼香肉丝",price:12,image:"http://imgsrc.baidu.com/forum/w%3D580%3B/sign=b50659384790f60304b09c4f0929b21b/a8ec8a13632762d0c88771b6adec08fa513dc67a.jpg"}],form:{activeName:"",acticeUrl:"",activeImg:[],showCitys:[],chooseTimeBox:"",showTimes:"",products:[]},rules:{activeName:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:1,max:30,message:"长度在 1 到 30 个字符",trigger:"blur"}],activeImg:[{required:!0,message:"请添加活动海报",trigger:"blur"}],products:[{required:!0,message:"请添加关联商品",trigger:"blur"},{min:1,max:100,message:"请添加3-9个关联商品",trigger:"blur"}],acticeUrl:[{required:!0,message:"请输入活动链接",trigger:"blur"},{min:1,max:100,message:"长度在 1 到 100 个字符",trigger:"blur"}]},productsName:"",productsTerm:"",brandsList:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}]}},methods:{getHotImg:function(t){this.$stamp(null,t),this.form.activeImg=t},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return e.$message.error("error submit!!"),!1})},addProducts:function(){this.hotDetailBox=!0},chooseBrands:function(t){},seeProduct:function(){this.hotDetailBoxInner=!0},addProduct:function(t,e){this.$set(this.form.products,this.form.products.length,e),this.$set(this.productsList,t,{productId:e.productId,name:e.name,price:e.price,image:e.image})},removeProduct:function(t,e){this.$delete(this.form.products,t)}},computed:{},components:{imgs:i("3Cih").a},created:function(){}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hotDetail"},[i("div",{staticClass:"hotDetail_head"},[i("router-link",{attrs:{to:"/manager/hot"}},[i("div",[i("i",{staticClass:"el-icon-arrow-left"}),t._v(" "),i("span",[t._v("返回列表")])])])],1),t._v(" "),i("div",{staticClass:"hotDetail_form"},[i("el-form",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules,"label-width":"120px"}},[i("el-form-item",{attrs:{label:"活动名称:",prop:"activeName"}},[i("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入活动名称"},model:{value:t.form.activeName,callback:function(e){t.$set(t.form,"activeName",e)},expression:"form.activeName"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"活动海报:",prop:"activeImg"}},[i("imgs",{staticClass:"hotDetail_img",attrs:{files:t.form.activeImg,limitImg:1},on:{imgFiles:t.getHotImg}})],1),t._v(" "),i("el-form-item",{attrs:{label:"活动链接:",prop:"acticeUrl"}},[i("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入活动链接"},model:{value:t.form.acticeUrl,callback:function(e){t.$set(t.form,"acticeUrl",e)},expression:"form.acticeUrl"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"展示城市:",prop:"showCitys"}},[i("el-checkbox-group",{model:{value:t.form.showCitys,callback:function(e){t.$set(t.form,"showCitys",e)},expression:"form.showCitys"}},t._l(t.citys,function(t,e){return i("el-checkbox",{key:e,attrs:{label:t.name}})}))],1),t._v(" "),i("el-form-item",{attrs:{label:"时间:",prop:"chooseTimeBox"}},[i("el-checkbox",{staticStyle:{"margin-right":"10px"},model:{value:t.timeIs,callback:function(e){t.timeIs=e},expression:"timeIs"}},[t._v("全部")]),t._v(" "),i("el-date-picker",{attrs:{type:"daterange",align:"right",size:"mini","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},model:{value:t.form.chooseTimeBox,callback:function(e){t.$set(t.form,"chooseTimeBox",e)},expression:"form.chooseTimeBox"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"时段:",prop:"showTimes"}},[i("el-radio-group",{model:{value:t.form.showTimes,callback:function(e){t.$set(t.form,"showTimes",e)},expression:"form.showTimes"}},t._l(t.times,function(t,e){return i("el-radio",{key:e,attrs:{label:t}})}))],1),t._v(" "),i("el-form-item",{attrs:{label:"关联商品:",prop:"products"}},[i("div",{staticStyle:{display:"flex","align-items":"center"}},[i("div",{staticClass:"hotDetail_addProducts",on:{click:t.addProducts}},[i("i",{staticClass:"el-icon-plus"}),t._v(" "),i("span",[t._v("添加商品")]),t._v(" "),i("span",[t._v("(3-9个)")])]),t._v(" "),i("div",{staticClass:"hotDetail_products_list"},[i("ul",t._l(t.form.products,function(e,o){return i("li",{key:o},[i("img",{attrs:{src:e.image}}),t._v(" "),i("i",{staticClass:"el-icon-circle-close",on:{click:function(i){t.removeProduct(o,e)}}})])}))])])])],1)],1),t._v(" "),i("div",[i("el-button",{staticStyle:{display:"block",margin:"10px auto","background-color":"#E51C23",color:"#fff","border-radius":"30px",padding:"7px 20px"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("发 布")])],1),t._v(" "),i("el-dialog",{staticClass:"hotDetailBox",attrs:{title:"选择关联商品",visible:t.hotDetailBox,width:"40%",center:""},on:{"update:visible":function(e){t.hotDetailBox=e}}},[i("el-dialog",{attrs:{width:"40%",center:"",title:"商品信息",visible:t.hotDetailBoxInner,"append-to-body":""},on:{"update:visible":function(e){t.hotDetailBoxInner=e}}}),t._v(" "),i("div",{staticClass:"hotDetailBox_head"},[i("div",[i("span",{staticClass:"hotDetailBox_title"},[t._v("名称")]),t._v(" "),i("el-input",{staticStyle:{width:"250px"},attrs:{size:"small",placeholder:"输入商品名称"},model:{value:t.productsName,callback:function(e){t.productsName=e},expression:"productsName"}})],1),t._v(" "),i("div",[i("span",{staticClass:"hotDetailBox_title"},[t._v("筛选条件")]),t._v(" "),i("el-select",{staticClass:"hotDetailBox_option",staticStyle:{width:"180px"},attrs:{size:"small",placeholder:"请选择品牌"},on:{change:t.chooseBrands},model:{value:t.productsTerm,callback:function(e){t.productsTerm=e},expression:"productsTerm"}},t._l(t.brandsList,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)]),t._v(" "),i("div",{staticClass:"hotDetailBox_body"},[i("ul",t._l(t.productsList,function(e,o){return i("li",[i("div",{staticClass:"hotDetailBox_body_left"},[i("img",{attrs:{src:e.image}}),t._v(" "),i("div",[i("span",[t._v(t._s(e.name))]),t._v(" "),i("span",[t._v("￥"+t._s(e.price))])])]),t._v(" "),i("div",{staticClass:"hotDetailBox_body_right"},[i("el-button",{staticClass:"hotDetailBox_see",staticStyle:{color:"#ffffff","background-color":"#ed6f00"},on:{click:t.seeProduct}},[t._v("查看")]),t._v(" "),i("el-button",{staticClass:"hotDetailBox_see",staticStyle:{color:"#ed6f00"},attrs:{dbClick:""},on:{click:function(i){t.addProduct(o,e)}}},[t._v("添加")])],1)])}))]),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-pagination",{attrs:{layout:"prev, pager, next",total:1e3}})],1)],1)],1)},staticRenderFns:[]};var s=i("C7Lr")(o,a,!1,function(t){i("+hoA")},null,null);e.default=s.exports}});
//# sourceMappingURL=19.b27c940ee1e661145f4d.js.map