{"version":3,"sources":["webpack:///src/pages/hotDetail.vue","webpack:///./src/pages/hotDetail.vue?d6da","webpack:///./src/pages/hotDetail.vue"],"names":["hotDetail","data","pickerOptions","shortcuts","text","onClick","picker","end","Date","start","setTime","getTime","$emit","citys","name","hotDetailBox","hotDetailBoxInner","times","timeIs","productsList","productId","price","image","form","activeName","acticeUrl","activeImg","showCitys","chooseTimeBox","showTimes","products","rules","required","message","trigger","min","max","productsName","productsTerm","brandsList","value","label","methods","getHotImg","img","this","$stamp","submitForm","formName","_this","$refs","validate","valid","$message","error","addProducts","chooseBrands","val","seeProduct","addProduct","index","$set","length","removeProduct","$delete","computed","components","imgs","created","pages_hotDetail","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","to","_v","ref","model","label-width","prop","staticStyle","width","placeholder","callback","$$v","expression","files","limitImg","on","imgFiles","_l","items","key","margin-right","type","align","size","unlink-panels","range-separator","start-placeholder","end-placeholder","picker-options","display","align-items","click","src","$event","margin","background-color","color","border-radius","padding","title","visible","center","update:visible","append-to-body","change","item","_s","dbClick","slot","layout","total","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/19.b27c940ee1e661145f4d.js","sourcesContent":["<template>\r\n  <div class=\"hotDetail\">\r\n    <div class=\"hotDetail_head\">\r\n      <router-link to=\"/manager/hot\">\r\n        <div>\r\n          <i class=\"el-icon-arrow-left\"></i>\r\n          <span>返回列表</span>\r\n        </div>\r\n      </router-link>\r\n    </div>\r\n    <div class=\"hotDetail_form\">\r\n      <el-form :model=\"form\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"120px\">\r\n        <el-form-item label=\"活动名称:\" prop=\"activeName\">\r\n          <el-input v-model=\"form.activeName\" style=\"width:250px;\" placeholder=\"请输入活动名称\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"活动海报:\" prop=\"activeImg\">\r\n          <imgs :files=\"form.activeImg\" class=\"hotDetail_img\" :limitImg=\"1\" @imgFiles=\"getHotImg\" />  \r\n        </el-form-item>\r\n        <el-form-item label=\"活动链接:\" prop=\"acticeUrl\">\r\n          <el-input v-model=\"form.acticeUrl\" style=\"width:250px;\" placeholder=\"请输入活动链接\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"展示城市:\" prop=\"showCitys\">\r\n          <el-checkbox-group v-model=\"form.showCitys\">\r\n            <el-checkbox v-for=\"(items,index) in citys\" :key=\"index\" :label=\"items.name\"></el-checkbox>\r\n          </el-checkbox-group>\r\n        </el-form-item>\r\n        <el-form-item label=\"时间:\" prop=\"chooseTimeBox\">\r\n          <el-checkbox v-model=\"timeIs\" style=\"margin-right:10px;\">全部</el-checkbox>\r\n          <el-date-picker\r\n            v-model=\"form.chooseTimeBox\"\r\n            type=\"daterange\"\r\n            align=\"right\"\r\n            size=\"mini\"\r\n            unlink-panels\r\n            range-separator=\"至\"\r\n            start-placeholder=\"开始日期\"\r\n            end-placeholder=\"结束日期\"\r\n            :picker-options=\"pickerOptions\">\r\n          </el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item label=\"时段:\" prop=\"showTimes\">\r\n          <el-radio-group v-model=\"form.showTimes\">\r\n            <el-radio v-for=\"(items,index) in times\" :key=\"index\" :label=\"items\"></el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item label=\"关联商品:\" prop=\"products\">\r\n          <div style=\"display:flex;align-items:center;\">\r\n            <div class=\"hotDetail_addProducts\"  @click=\"addProducts\">\r\n              <i class=\"el-icon-plus\"></i>\r\n              <span>添加商品</span>\r\n              <span>(3-9个)</span>\r\n            </div>\r\n            <div class=\"hotDetail_products_list\">\r\n              <ul>\r\n                <li v-for=\"(imgs,index) in form.products\" :key=\"index\">\r\n                  <img :src=\"imgs.image\" />\r\n                  <i @click=\"removeProduct(index,imgs)\" class=\"el-icon-circle-close\"></i>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <div>\r\n      <el-button style=\"display: block;margin:10px auto;background-color:#E51C23;color:#fff;border-radius:30px;padding:7px 20px;\" @click=\"submitForm('ruleForm')\">发 布</el-button>\r\n    </div>\r\n    <!--弹窗-->\r\n    <el-dialog title=\"选择关联商品\" :visible.sync=\"hotDetailBox\" width=\"40%\" center class=\"hotDetailBox\">\r\n      <el-dialog\r\n        width=\"40%\"\r\n        center\r\n        title=\"商品信息\"\r\n        :visible.sync=\"hotDetailBoxInner\"\r\n        append-to-body>\r\n      </el-dialog>\r\n      <div class=\"hotDetailBox_head\">\r\n        <div>\r\n          <span class=\"hotDetailBox_title\">名称</span>\r\n          <el-input size=\"small\" v-model=\"productsName\" style=\"width:250px;\" placeholder=\"输入商品名称\"></el-input>\r\n        </div>\r\n        <div>\r\n          <span class=\"hotDetailBox_title\">筛选条件</span>      \r\n          <el-select size=\"small\" v-model=\"productsTerm\" style=\"width:180px;\" class=\"hotDetailBox_option\" placeholder=\"请选择品牌\" @change=\"chooseBrands\">\r\n            <el-option\r\n              v-for=\"item in brandsList\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n        </div>\r\n      </div>\r\n      <div class=\"hotDetailBox_body\">\r\n        <ul>\r\n          <li v-for=\"(items,index) in productsList\">\r\n            <div class=\"hotDetailBox_body_left\">\r\n              <img :src=\"items.image\" />\r\n              <div>\r\n                <span>{{items.name}}</span>\r\n                <span>￥{{items.price}}</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"hotDetailBox_body_right\">\r\n              <el-button @click=\"seeProduct\" class=\"hotDetailBox_see\" style=\"color:#ffffff;background-color:#ed6f00\">查看</el-button>\r\n              <el-button dbClick class=\"hotDetailBox_see\" style=\"color:#ed6f00\" @click=\"addProduct(index,items)\">添加</el-button>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-pagination\r\n          layout=\"prev, pager, next\"\r\n          :total=\"1000\">\r\n        </el-pagination>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport imgs from './../components/img.vue'\r\nexport default {\r\n    data () {\r\n      return {\r\n        pickerOptions:{\r\n          shortcuts: [{\r\n            text: '最近一周',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }, {\r\n            text: '最近一个月',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }, {\r\n            text: '最近三个月',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }]\r\n        },\r\n        citys:[{\r\n          name:'武汉'\r\n        },{\r\n          name:'成都'\r\n        },{\r\n          name:'上海'\r\n        }],\r\n        hotDetailBox:false,\r\n        hotDetailBoxInner:false,\r\n        times:['全部','全天','0:00-12:00','12:00-18:00','18:00-24:00'],\r\n        timeIs:false,\r\n        productsList:[{\r\n            productId:1,\r\n            name:'鱼香肉丝',\r\n            price:12,\r\n            image:'https://ss3.baidu.com/-rVXeDTa2gU2pMbgoY3K/it/u=229445282,848378121&fm=202&mola=new&crop=v1'\r\n          },{\r\n            productId:2,\r\n            name:'鱼香肉丝',\r\n            price:12,\r\n            image:'http://imgsrc.baidu.com/forum/w%3D580%3B/sign=b50659384790f60304b09c4f0929b21b/a8ec8a13632762d0c88771b6adec08fa513dc67a.jpg'\r\n          }],\r\n        form:{\r\n          activeName:'',\r\n          acticeUrl:'',\r\n          activeImg:[],\r\n          showCitys:[],\r\n          chooseTimeBox:'',\r\n          showTimes:'',\r\n          products:[]\r\n        },\r\n        rules: {\r\n          activeName: [\r\n            { required: true, message: '请输入活动名称', trigger: 'blur' },\r\n            { min: 1, max: 30, message: '长度在 1 到 30 个字符', trigger: 'blur' }\r\n          ],\r\n          activeImg: [\r\n            { required: true, message: '请添加活动海报', trigger: 'blur' }\r\n          ],\r\n          products: [\r\n            { required: true, message: '请添加关联商品', trigger: 'blur' },\r\n            {  min: 1, max: 100, message: '请添加3-9个关联商品', trigger: 'blur' }\r\n          ],\r\n          acticeUrl:[\r\n            { required: true, message: '请输入活动链接', trigger: 'blur' },\r\n            { min: 1, max: 100, message: '长度在 1 到 100 个字符', trigger: 'blur' }\r\n          ]\r\n        },\r\n        productsName:'',\r\n        productsTerm:'',\r\n        brandsList:[{\r\n          value: '选项1',\r\n          label: '黄金糕'\r\n        }, {\r\n          value: '选项2',\r\n          label: '双皮奶'\r\n        }, {\r\n          value: '选项3',\r\n          label: '蚵仔煎'\r\n        }, {\r\n          value: '选项4',\r\n          label: '龙须面'\r\n        }, {\r\n          value: '选项5',\r\n          label: '北京烤鸭'\r\n        }]\r\n      }\r\n    },\r\n    methods:{\r\n      //获得海报图片\r\n      getHotImg(img){\r\n        this.$stamp(null,img)\r\n        this.form.activeImg = img\r\n      },\r\n      //提交发布\r\n      submitForm(formName){\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            \r\n          } else {\r\n            this.$message.error('error submit!!');\r\n            return false;\r\n          }\r\n        })\r\n      },\r\n      // 添加关联商品\r\n      addProducts(){\r\n        this.hotDetailBox = true\r\n      },\r\n      //选择品牌条件\r\n      chooseBrands(val){\r\n\r\n      },\r\n      //查看商品具体信息\r\n      seeProduct(){\r\n        this.hotDetailBoxInner = true\r\n      },\r\n      //添加商品信息\r\n      addProduct(index,data){\r\n        this.$set(this.form.products,this.form.products.length,data)\r\n        this.$set(this.productsList,index,{\r\n            productId:data.productId,\r\n            name:data.name,\r\n            price:data.price,\r\n            image:data.image\r\n        })\r\n      },\r\n      //删除商品信息\r\n      removeProduct(index,data){\r\n        this.$delete(this.form.products,index)\r\n        //再删除的时候就不能以序号为this.productsList的位置\r\n        // for(let i = 0;i<this.productsList.length;i++){\r\n        //   if(data.productId == this.productsList[i].productId){\r\n        //     this.$set(this.productsList,i,{\r\n        //         productId:data.productId,\r\n        //         name:data.name,\r\n        //         price:data.price,\r\n        //         show:true,\r\n        //         image:data.image\r\n        //     })\r\n        //     break;\r\n        //   }\r\n        // }\r\n      }\r\n    },\r\n    computed: {\r\n      \r\n    },\r\n    components: {\r\n      imgs\r\n    },\r\n    created(){\r\n      \r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n  .hotDetail_head div{ \r\n    width:80px;   \r\n    color: rgb(255, 255, 255);\r\n    background-color: rgb(237, 111, 0);\r\n    padding: 10px 20px;\r\n    font-size: 14px;\r\n    border-radius: 30px;\r\n  }\r\n  .hotDetail_form{\r\n    box-sizing:border-box;\r\n    padding:15px;\r\n    background-color:#ffffff;\r\n    border-radius:5px;\r\n    margin-top:20px;\r\n  }\r\n  .hotDetail_img li,.hotDetail_img .el-upload-list{\r\n    width:100px!important;\r\n    height:100px!important;\r\n    line-height: 1;\r\n  }\r\n  .hotDetail_img .el-upload--picture-card{\r\n    width:100px!important;\r\n    height:100px!important;\r\n    line-height:100px;\r\n  }\r\n  .hotDetail_addProducts{\r\n    width:100px;\r\n    height:100px;\r\n    display:flex;\r\n    flex-direction:column;\r\n    align-items:center;\r\n    color:#ffffff;\r\n    background-color:#000000;\r\n    border-radius:5px;\r\n    justify-content:center;\r\n    cursor:pointer;\r\n  }\r\n  .hotDetail_addProducts span{\r\n    line-height:1;\r\n  }\r\n  .hotDetail_addProducts:first-child span{\r\n    padding:5px 0;\r\n  }\r\n  .hotDetailBox .el-dialog{\r\n    border-radius:5px;\r\n  }\r\n  .hotDetailBox .el-dialog__header{\r\n    background-color:#ed6f00;\r\n    border-radius: 5px 5px 0 0;\r\n  }\r\n  .hotDetailBox .el-dialog__header span,.hotDetailBox .el-dialog__header i{\r\n    color:#ffffff;\r\n  }\r\n  .hotDetailBox_head{\r\n    display:flex;\r\n    align-items:center;\r\n  }\r\n  .hotDetailBox_title{\r\n    color:#000000;\r\n    padding-right:20px;\r\n  }\r\n  .hotDetailBox_head div:nth-child(2){\r\n    padding-right:20px;\r\n  }\r\n  .hotDetailBox_head input{\r\n    border:0;\r\n    background-color:#e4e4e4;\r\n  }\r\n  .hotDetailBox_option .el-select__caret{\r\n    color:#000000!important;\r\n  }\r\n  .hotDetailBox_option input{\r\n    background-color:#ffffff;\r\n  }\r\n  .hotDetailBox_see{\r\n    box-sizing:border-box;\r\n    padding:10px 20px;\r\n    border-radius:30px;\r\n    border:1px solid #ed6f00;\r\n  }\r\n  .hotDetailBox_body{\r\n    margin:15px 0;\r\n  }\r\n  .hotDetailBox_body ul li{\r\n    border-top:1px solid #f1f1f1;\r\n    box-sizing:border-box;\r\n    padding:15px;\r\n    display:flex;\r\n    justify-content:space-between;\r\n    align-items:center;\r\n  }\r\n  .hotDetailBox_body_left{\r\n    display:flex;\r\n    align-items:center;\r\n  }\r\n  .hotDetailBox_body_left img{\r\n    width:60px;\r\n    height:60px;\r\n    border-radius:5px;\r\n  }\r\n  .hotDetailBox_body_left div{\r\n    display:flex;\r\n    flex-direction:column;\r\n    padding-left:10px;\r\n    justify-content:space-between;\r\n    height: 60px;\r\n  }\r\n  .hotDetail_products_list ul li{\r\n    position:relative;\r\n    float:left;\r\n    margin-left:10px;\r\n  }\r\n  .hotDetail_products_list ul li img{\r\n    width:100px;\r\n    height:100px;\r\n    border-radius:5px;\r\n  }\r\n  .hotDetail_products_list ul li i{\r\n    position:absolute;\r\n    top: -8px;\r\n    right: -8px;\r\n    font-size: 18px;\r\n    cursor:pointer;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/hotDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hotDetail\"},[_c('div',{staticClass:\"hotDetail_head\"},[_c('router-link',{attrs:{\"to\":\"/manager/hot\"}},[_c('div',[_c('i',{staticClass:\"el-icon-arrow-left\"}),_vm._v(\" \"),_c('span',[_vm._v(\"返回列表\")])])])],1),_vm._v(\" \"),_c('div',{staticClass:\"hotDetail_form\"},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"活动名称:\",\"prop\":\"activeName\"}},[_c('el-input',{staticStyle:{\"width\":\"250px\"},attrs:{\"placeholder\":\"请输入活动名称\"},model:{value:(_vm.form.activeName),callback:function ($$v) {_vm.$set(_vm.form, \"activeName\", $$v)},expression:\"form.activeName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"活动海报:\",\"prop\":\"activeImg\"}},[_c('imgs',{staticClass:\"hotDetail_img\",attrs:{\"files\":_vm.form.activeImg,\"limitImg\":1},on:{\"imgFiles\":_vm.getHotImg}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"活动链接:\",\"prop\":\"acticeUrl\"}},[_c('el-input',{staticStyle:{\"width\":\"250px\"},attrs:{\"placeholder\":\"请输入活动链接\"},model:{value:(_vm.form.acticeUrl),callback:function ($$v) {_vm.$set(_vm.form, \"acticeUrl\", $$v)},expression:\"form.acticeUrl\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"展示城市:\",\"prop\":\"showCitys\"}},[_c('el-checkbox-group',{model:{value:(_vm.form.showCitys),callback:function ($$v) {_vm.$set(_vm.form, \"showCitys\", $$v)},expression:\"form.showCitys\"}},_vm._l((_vm.citys),function(items,index){return _c('el-checkbox',{key:index,attrs:{\"label\":items.name}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"时间:\",\"prop\":\"chooseTimeBox\"}},[_c('el-checkbox',{staticStyle:{\"margin-right\":\"10px\"},model:{value:(_vm.timeIs),callback:function ($$v) {_vm.timeIs=$$v},expression:\"timeIs\"}},[_vm._v(\"全部\")]),_vm._v(\" \"),_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"align\":\"right\",\"size\":\"mini\",\"unlink-panels\":\"\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"picker-options\":_vm.pickerOptions},model:{value:(_vm.form.chooseTimeBox),callback:function ($$v) {_vm.$set(_vm.form, \"chooseTimeBox\", $$v)},expression:\"form.chooseTimeBox\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"时段:\",\"prop\":\"showTimes\"}},[_c('el-radio-group',{model:{value:(_vm.form.showTimes),callback:function ($$v) {_vm.$set(_vm.form, \"showTimes\", $$v)},expression:\"form.showTimes\"}},_vm._l((_vm.times),function(items,index){return _c('el-radio',{key:index,attrs:{\"label\":items}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"关联商品:\",\"prop\":\"products\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[_c('div',{staticClass:\"hotDetail_addProducts\",on:{\"click\":_vm.addProducts}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\" \"),_c('span',[_vm._v(\"添加商品\")]),_vm._v(\" \"),_c('span',[_vm._v(\"(3-9个)\")])]),_vm._v(\" \"),_c('div',{staticClass:\"hotDetail_products_list\"},[_c('ul',_vm._l((_vm.form.products),function(imgs,index){return _c('li',{key:index},[_c('img',{attrs:{\"src\":imgs.image}}),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-circle-close\",on:{\"click\":function($event){_vm.removeProduct(index,imgs)}}})])}))])])])],1)],1),_vm._v(\" \"),_c('div',[_c('el-button',{staticStyle:{\"display\":\"block\",\"margin\":\"10px auto\",\"background-color\":\"#E51C23\",\"color\":\"#fff\",\"border-radius\":\"30px\",\"padding\":\"7px 20px\"},on:{\"click\":function($event){_vm.submitForm('ruleForm')}}},[_vm._v(\"发 布\")])],1),_vm._v(\" \"),_c('el-dialog',{staticClass:\"hotDetailBox\",attrs:{\"title\":\"选择关联商品\",\"visible\":_vm.hotDetailBox,\"width\":\"40%\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.hotDetailBox=$event}}},[_c('el-dialog',{attrs:{\"width\":\"40%\",\"center\":\"\",\"title\":\"商品信息\",\"visible\":_vm.hotDetailBoxInner,\"append-to-body\":\"\"},on:{\"update:visible\":function($event){_vm.hotDetailBoxInner=$event}}}),_vm._v(\" \"),_c('div',{staticClass:\"hotDetailBox_head\"},[_c('div',[_c('span',{staticClass:\"hotDetailBox_title\"},[_vm._v(\"名称\")]),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"250px\"},attrs:{\"size\":\"small\",\"placeholder\":\"输入商品名称\"},model:{value:(_vm.productsName),callback:function ($$v) {_vm.productsName=$$v},expression:\"productsName\"}})],1),_vm._v(\" \"),_c('div',[_c('span',{staticClass:\"hotDetailBox_title\"},[_vm._v(\"筛选条件\")]),_vm._v(\" \"),_c('el-select',{staticClass:\"hotDetailBox_option\",staticStyle:{\"width\":\"180px\"},attrs:{\"size\":\"small\",\"placeholder\":\"请选择品牌\"},on:{\"change\":_vm.chooseBrands},model:{value:(_vm.productsTerm),callback:function ($$v) {_vm.productsTerm=$$v},expression:\"productsTerm\"}},_vm._l((_vm.brandsList),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1)]),_vm._v(\" \"),_c('div',{staticClass:\"hotDetailBox_body\"},[_c('ul',_vm._l((_vm.productsList),function(items,index){return _c('li',[_c('div',{staticClass:\"hotDetailBox_body_left\"},[_c('img',{attrs:{\"src\":items.image}}),_vm._v(\" \"),_c('div',[_c('span',[_vm._v(_vm._s(items.name))]),_vm._v(\" \"),_c('span',[_vm._v(\"￥\"+_vm._s(items.price))])])]),_vm._v(\" \"),_c('div',{staticClass:\"hotDetailBox_body_right\"},[_c('el-button',{staticClass:\"hotDetailBox_see\",staticStyle:{\"color\":\"#ffffff\",\"background-color\":\"#ed6f00\"},on:{\"click\":_vm.seeProduct}},[_vm._v(\"查看\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"hotDetailBox_see\",staticStyle:{\"color\":\"#ed6f00\"},attrs:{\"dbClick\":\"\"},on:{\"click\":function($event){_vm.addProduct(index,items)}}},[_vm._v(\"添加\")])],1)])}))]),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-pagination',{attrs:{\"layout\":\"prev, pager, next\",\"total\":1000}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-1433901e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/hotDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1433901e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./hotDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./hotDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./hotDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1433901e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./hotDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/hotDetail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}