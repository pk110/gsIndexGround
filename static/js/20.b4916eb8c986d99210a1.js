webpackJsonp([20],{kQIv:function(e,t){},pgC7:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("ag9C"),o=a("3Cih"),s={data:function(){return{totalPages:10,pageSize:1,currentPage:1,form:{name:"",logo:[],headImg:[],brandsDetail:""},rules:{name:[{required:!0,message:"请输入品牌名称",trigger:"blur"},{min:1,max:10,message:"长度在 1 到 10 个字符",trigger:"blur"}],logo:[{required:!0,message:"请添加品牌logo图片",trigger:"blur"}],headImg:[{required:!0,message:"请添加品牌头图图片",trigger:"blur"}],brandsDetail:[{required:!0,message:"请输入品牌文字描述",trigger:"blur"},{min:1,max:100,message:"长度在 1 到 100 个字符",trigger:"blur"}]},brandBox:!1,data:[{name:"aa",Logo:"https://ss3.baidu.com/-rVXeDTa2gU2pMbgoY3K/it/u=229445282,848378121&fm=202&mola=new&crop=v1",headImg:"https://ss3.baidu.com/-rVXeDTa2gU2pMbgoY3K/it/u=229445282,848378121&fm=202&mola=new&crop=v1",detail:"武汉"},{name:"bb",Logo:"https://ss3.baidu.com/-rVXeDTa2gU2pMbgoY3K/it/u=229445282,848378121&fm=202&mola=new&crop=v1",headImg:"https://ss3.baidu.com/-rVXeDTa2gU2pMbgoY3K/it/u=229445282,848378121&fm=202&mola=new&crop=v1",detail:"武汉"},{name:"cc",Logo:"https://ss3.baidu.com/-rVXeDTa2gU2pMbgoY3K/it/u=229445282,848378121&fm=202&mola=new&crop=v1",headImg:"https://ss3.baidu.com/-rVXeDTa2gU2pMbgoY3K/it/u=229445282,848378121&fm=202&mola=new&crop=v1",detail:"武汉"},{name:"dd",Logo:"https://ss3.baidu.com/-rVXeDTa2gU2pMbgoY3K/it/u=229445282,848378121&fm=202&mola=new&crop=v1",headImg:"https://ss3.baidu.com/-rVXeDTa2gU2pMbgoY3K/it/u=229445282,848378121&fm=202&mola=new&crop=v1",detail:"武汉"}],search:""}},methods:{indexMethod:function(e){return e+1+10*(this.currentPage-1)},searchBands:function(){this.$stamp(null,this.search)},getCurrentPage:function(e){this.$stamp(null,"获取的当前页数"+e),this.currentPage=e},getLogoImg:function(e){this.$stamp(null,e),this.form.logo=e},getHeadImg:function(e){this.$stamp(null,e),this.form.headImg=e},addBrands:function(){this.brandBox=!0,this.form.name="",this.form.logo=[],this.form.headImg=[],this.form.brandsDetail=""},edit:function(e){this.$stamp(null,e),this.addBrands(),this.form.name=e.name,this.form.logo.push({url:e.Logo}),this.form.headImg.push({url:e.headImg}),this.form.brandsDetail=e.detail},submit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message.error("error submit!!"),!1})},resetForm:function(e){this.$refs[e].resetFields()}},computed:{},components:{pages:r.a,imgs:o.a},created:function(){}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"brandsList_head"},[a("div",{staticClass:"brandsList_head_left"},[a("el-button",{staticStyle:{color:"#fff","background-color":"#ed6f00",padding:"10px 18px","border-radius":"30px"},on:{click:e.addBrands}},[a("i",{staticClass:"el-icon-plus"}),e._v("\n      添加品牌")]),e._v(" "),e._m(0)],1),e._v(" "),a("el-input",{staticClass:"brandsList_search",staticStyle:{width:"240px"},attrs:{size:"small",placeholder:"搜索","prefix-icon":"el-icon-search"},on:{blur:e.searchBands},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),a("el-table",{staticClass:"brandsList_table",staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.data}},[a("el-table-column",{attrs:{type:"index",align:"center",label:"序号",width:100,index:e.indexMethod}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",label:"品牌名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Logo",align:"center",label:"Logo"}}),e._v(" "),a("el-table-column",{attrs:{prop:"headImg",align:"center",label:"头图"}}),e._v(" "),a("el-table-column",{attrs:{prop:"detail",align:"center",label:"文字描述"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{"background-color":"#ed6f00","border-radius":"30px",color:"#fff",padding:"7px 20px"},on:{click:function(a){e.edit(t.row)}}},[e._v("编辑")])]}}])})],1),e._v(" "),a("pages",{attrs:{pageSize:e.pageSize,totalPages:e.totalPages},on:{changeCurrentPage:e.getCurrentPage}}),e._v(" "),a("el-dialog",{attrs:{title:"品牌编辑",visible:e.brandBox,width:"40%",center:""},on:{"update:visible":function(t){e.brandBox=t}}},[a("el-form",{ref:"ruleForm",staticClass:"brandsList_Box",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"输入品牌",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入品牌名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"品牌logo",prop:"logo"}},[a("imgs",{staticClass:"brandsList_logo",attrs:{files:e.form.logo,limitImg:1},on:{imgFiles:e.getLogoImg}})],1),e._v(" "),a("el-form-item",{attrs:{label:"品牌头图",prop:"headImg"}},[a("imgs",{staticClass:"brandsList_head",attrs:{files:e.form.headImg,limitImg:1},on:{imgFiles:e.getHeadImg}})],1),e._v(" "),a("el-form-item",{attrs:{label:"品牌文字描述",prop:"brandsDetail"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入品牌文字描述"},model:{value:e.form.brandsDetail,callback:function(t){e.$set(e.form,"brandsDetail",t)},expression:"form.brandsDetail"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticStyle:{"background-color":"#ff3b21",color:"#fff",padding:"7px 20px","border-radius":"30px","border-color":"#ff3b21"},attrs:{type:"primary"},on:{click:function(t){e.submit("ruleForm")}}},[e._v("确 定")]),e._v(" "),a("el-button",{staticStyle:{"background-color":"#000000",color:"#fff",padding:"7px 20px","border-radius":"30px"},on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("取 消")])],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"brandsNub"},[this._v("已添加品牌 "),t("span",{staticStyle:{color:"#ed6f00"}},[this._v("50")]),this._v(" 个")])}]};var i=a("C7Lr")(s,l,!1,function(e){a("kQIv")},null,null);t.default=i.exports}});
//# sourceMappingURL=20.b4916eb8c986d99210a1.js.map