webpackJsonp([9],{"7V3b":function(e,s){},jWxy:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=t("a3Yh"),i=t.n(a),n={data:function(){return{brands:"",brandsList:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}],stores:"",storesList:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}],operates:[{name:"批量上架",val:0},{name:"批量下架",val:1},{name:"批量改库存",val:2},{name:"沽清",val:3},{name:"置满",val:4}],dishesSearch:"",dishesStatus:"0",chooseOperateStatus:999,currentOperate:"color:#ffffff;background-color:#000000;",chooseTag:"",chooseTagColor:"color:#000000;background-color:#ffffff;",dishesType:[{name:"全部商品",number:64,shown:!1,bool:!0},{name:"摇滚米粒",number:10,shown:!1,bool:!0},{name:"嗨FUN5.8",number:9,shown:!1,bool:!0},{name:"吃鸡套餐",number:7,shown:!1,bool:!0},{name:"下饭联盟",number:4,shown:!1,bool:!0},{name:"吃鸡套餐",number:6,shown:!1,bool:!0},{name:"下饭联盟",number:7,shown:!1,bool:!0}],dishesData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄",num:12,bool:!0,loading:!0,img:"https://ss3.baidu.com/-rVXeDTa2gU2pMbgoY3K/it/u=229445282,848378121&fm=202&mola=new&crop=v1"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄",num:12,bool:!0,loading:!1,img:"https://ss3.baidu.com/-rVXeDTa2gU2pMbgoY3K/it/u=229445282,848378121&fm=202&mola=new&crop=v1"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄",num:12,bool:!0,loading:!1,img:"https://ss3.baidu.com/-rVXeDTa2gU2pMbgoY3K/it/u=229445282,848378121&fm=202&mola=new&crop=v1"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄",num:12,bool:!0,loading:!1,img:"https://ss3.baidu.com/-rVXeDTa2gU2pMbgoY3K/it/u=229445282,848378121&fm=202&mola=new&crop=v1"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄",num:120,bool:!0,loading:!1,img:"https://ss3.baidu.com/-rVXeDTa2gU2pMbgoY3K/it/u=229445282,848378121&fm=202&mola=new&crop=v1"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄",num:212,bool:!0,loading:!1,img:"https://ss3.baidu.com/-rVXeDTa2gU2pMbgoY3K/it/u=229445282,848378121&fm=202&mola=new&crop=v1"}],fileList:[],dishesImgIndex:0,oldCount:0}},methods:{editTag:function(e,s){this.oldName=s.name,this.$set(this.dishesType,e,{name:s.name,number:s.number,shown:s.shown,bool:!1})},blurTag:function(e,s){var t=this;s.name;""==s.name?e==this.dishesType.length-1?(this.$delete(this.dishesType,e),this.$message({type:"info",message:"已取消添加分类名称"})):this.$confirm("此操作将永久删除该分类, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$delete(t.dishesType,e),t.$message({type:"success",message:"删除成功!"})}).catch(function(){t.dishesType[e].name=t.oldName,t.$message({type:"info",message:"已取消删除"})}):this.oldName==s.name?this.$set(this.dishesType,e,{name:s.name,shown:s.shown,number:s.number,bool:!0}):(console.log("真的去修改"),this.$set(this.dishesType,e,{name:s.name,shown:s.shown,number:s.number,bool:!0}))},addTag:function(){var e=this;this.$set(this.dishesType,this.dishesType.length,{name:"",number:"",shown:!1,bool:!1}),this.$nextTick(function(){e.$refs.newTitle[0].focus()})},chooseStores:function(){this.$stamp(null,this.stores)},chooseBrands:function(){this.$stamp(null,this.brands)},handleClick:function(e,s){this.$stamp(null,e.name)},sorts:function(e,s){0==s.shown?this.$set(this.dishesType,e,{name:s.name,bool:s.bool,number:s.number,shown:!0}):this.$set(this.dishesType,e,{name:s.name,bool:s.bool,number:s.number,shown:!1})},moveTop:function(e,s){0==e?(this.$message.error("不能继续上移哦!"),this.$set(this.dishesType,e,{name:s.name,bool:s.bool,number:s.number,shown:!1})):(this.chooseTag=e-1,this.$set(this.dishesType,e,{name:this.dishesType[e-1].name,bool:this.dishesType[e-1].bool,number:this.dishesType[e-1].number,shown:!1}),this.$set(this.dishesType,e-1,{name:s.name,bool:s.bool,number:s.number,shown:!1}))},moveBottom:function(e,s){e+1==this.dishesType.length?(this.$message.error("不能继续下移哦!"),this.$set(this.dishesType,e,{name:s.name,bool:s.bool,number:s.number,shown:!1})):(this.chooseTag=e+1,this.$set(this.dishesType,e,{name:this.dishesType[e+1].name,bool:this.dishesType[e+1].bool,number:this.dishesType[e+1].number,shown:!1}),this.$set(this.dishesType,e+1,{name:s.name,bool:s.bool,number:s.number,shown:!1}))},dishesTags:function(e,s){this.$stamp(null,e),this.$stamp(null,s);for(var t=0;t<this.dishesType.length;t++)1==this.dishesType[t].shown&&this.$set(this.dishesType,t,i()({name:this.dishesType[t].name,number:this.dishesType[t].number,shown:this.dishesType[t].shown},"shown",!1));this.chooseTag=s},chooseOperate:function(e,s){this.$stamp(null,e),this.$stamp(null,s),this.chooseOperateStatus=s},handleSelectionChange:function(e){this.$stamp(null,e),this.multipleSelection=e},reviseCount:function(e,s){this.oldCount=s.num,this.$set(this.dishesData,e,{date:s.date,name:s.name,address:s.address,num:s.num,loading:!0,bool:!1})},startReviseCount:function(e){this.$stamp(null,this.dishesData[e].num),this.oldCount==this.dishesData[e].num?this.$set(this.dishesData,e,{date:this.dishesData[e].date,name:this.dishesData[e].name,address:this.dishesData[e].address,num:this.dishesData[e].num,bool:!0}):/^[+]{0,1}(\d+)$/.test(this.dishesData[e].num)?this.$set(this.dishesData,e,{date:this.dishesData[e].date,name:this.dishesData[e].name,address:this.dishesData[e].address,num:this.dishesData[e].num,bool:!0}):(this.dishesData[e].num=this.oldCount,this.$message.error("请输入大于0以上的正整数!!"))},getDishesImg:function(e){this.fileList.push(e),this.$stamp(null,this.fileList),this.$stamp(null,this.dishesImgIndex),this.$set(this.dishesData,this.dishesImgIndex,{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄",num:12,bool:!0,img:"https://ss3.baidu.com/-rVXeDTa2gU2pMbgoY3K/it/u=1362208881,3931895225&fm=202"}),this.fileList=[]},uploadImg:function(e){this.dishesImgIndex=e}},computed:{},components:{},created:function(){}},o={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("div",{staticClass:"dishes_header"},[t("div",{staticStyle:{display:"flex","justify-content":"flex-start","align-items":"center"}},[t("el-button",{staticStyle:{color:"#fff","background-color":"#ed6f00",padding:"12px 24px","border-radius":"30px"},attrs:{size:"small"}},[e._v("选择菜品")]),e._v(" "),t("div",{staticClass:"dishes_chooseCity"},[e._v("选择品牌")]),e._v(" "),t("el-select",{staticClass:"dishes_options",staticStyle:{width:"120px"},attrs:{placeholder:"请选择品牌"},on:{change:e.chooseBrands},model:{value:e.brands,callback:function(s){e.brands=s},expression:"brands"}},e._l(e.brandsList,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),t("div",{staticClass:"dishes_chooseCity"},[e._v("选择门店")]),e._v(" "),t("el-select",{staticClass:"dishes_options",staticStyle:{width:"120px"},attrs:{placeholder:"请选择门店"},on:{change:e.chooseStores},model:{value:e.stores,callback:function(s){e.stores=s},expression:"stores"}},e._l(e.storesList,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-input",{staticClass:"dishes_search",staticStyle:{width:"240px"},attrs:{size:"small",placeholder:"输入菜品名称","prefix-icon":"el-icon-search"},model:{value:e.dishesSearch,callback:function(s){e.dishesSearch=s},expression:"dishesSearch"}})],1),e._v(" "),t("div",{staticClass:"dishes_top_container"},[t("el-tabs",{staticClass:"dishes_topTages",on:{"tab-click":e.handleClick},model:{value:e.dishesStatus,callback:function(s){e.dishesStatus=s},expression:"dishesStatus"}},[t("el-tab-pane",{attrs:{label:"全部商品",name:"0"}}),e._v(" "),t("el-tab-pane",{attrs:{label:"库存不足 (2)",name:"1"}}),e._v(" "),t("el-tab-pane",{attrs:{label:"已下架 (2)",name:"2"}}),e._v(" "),t("el-tab-pane",{attrs:{label:"已售完 (2)",name:"3"}}),e._v(" "),t("el-tab-pane",{attrs:{label:"无标签 (2)",name:"4"}}),e._v(" "),t("el-tab-pane",{attrs:{label:"无图片",name:"5"}})],1)],1),e._v(" "),t("div",{staticClass:"dishes_bottom"},[t("div",{staticClass:"dishes_bottom_left"},[t("ul",[e._l(e.dishesType,function(s,a){return t("li",{key:a,style:e.chooseTag==a?e.chooseTagColor:"",on:{click:function(t){e.dishesTags(s.name,a)}}},[t("div",[e.chooseTag==a?t("i",{staticClass:"el-icon-sort dishes_sorts",on:{click:function(t){t.stopPropagation(),e.sorts(a,s)}}}):e._e(),e._v(" "),t("transition",{attrs:{name:"el-zoom-in-top"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:s.shown,expression:"items.shown"}],staticClass:"dishes_sorts_box"},[t("ul",[t("li",{on:{click:function(t){t.stopPropagation(),e.moveTop(a,s)}}},[e._v("移动至上方")]),e._v(" "),t("li",{on:{click:function(t){t.stopPropagation(),e.moveBottom(a,s)}}},[e._v("移动至下方")])])])]),e._v(" "),s.bool?e._e():t("el-input",{directives:[{name:"focus",rawName:"v-focus"}],ref:"newTitle",refInFor:!0,staticClass:"dishes_left_title",staticStyle:{width:"90px",height:"30px"},attrs:{placeholder:"新建名称",size:"small"},on:{blur:function(t){e.blurTag(a,s)}},model:{value:s.name,callback:function(t){e.$set(s,"name",t)},expression:"items.name"}}),e._v(" "),s.bool?t("span",[e._v(e._s(s.name))]):e._e()],1),e._v(" "),t("div",{staticStyle:{display:"flex","align-items":"center"}},[t("span",[e._v(e._s(s.number))]),e._v(" "),e.chooseTag==a?t("i",{staticClass:"el-icon-edit-outline dishes_edit",on:{click:function(t){e.editTag(a,s)}}}):e._e()])])}),e._v(" "),t("el-button",{directives:[{name:"dbClick",rawName:"v-dbClick"}],staticStyle:{"background-color":"#ed6f00",color:"#fff","border-radius":"30px",width:"100%",padding:"16px","font-size":"14px"},attrs:{size:"mini"},on:{click:e.addTag}},[t("i",{staticClass:"el-icon-plus"}),e._v(" 新建分类")])],2)]),e._v(" "),t("div",{staticClass:"dishes_bottom_right"},[t("div",{staticClass:"dishes_bottom_right_top"},e._l(e.operates,function(s,a){return t("el-button",{key:a,style:e.chooseOperateStatus==a?e.currentOperate:"",attrs:{size:"small"},on:{click:function(t){e.chooseOperate(s,a)}}},[e._v(e._s(s.name))])})),e._v(" "),t("el-table",{ref:"multipleTable",staticClass:"dishes_table",staticStyle:{width:"100%"},attrs:{data:e.dishesData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{align:"center",type:"selection",width:"55"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"商品",width:"380"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div",{staticClass:"dishes_message"},[t("div",{staticClass:"dishes_img"},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:s.row.loading,expression:"scope.row.loading"}]},[t("img",{attrs:{src:s.row.img}})]),e._v(" "),t("el-upload",{staticClass:"upload-demo",attrs:{action:"","auto-upload":!1,limit:1,"show-file-list":!1,"on-change":e.getDishesImg,"file-list":e.fileList}},[t("i",{staticClass:"el-icon-edit",on:{click:function(t){e.uploadImg(s.$index)}}})])],1),e._v(" "),t("div",{staticClass:"dishes_detail"},[t("p",{staticClass:"dishes_detail_title"},[e._v("米单纯 (单纯但不简单的炒饭)...")]),e._v(" "),t("p",[e._v("晶莹透亮秘制醉鱼，下饭佐酒，回味悠长")]),e._v(" "),t("div",[t("span",[e._v("月售：961")]),e._v("\n                  |\n                  "),t("span",[e._v("好评：99%")])]),e._v(" "),t("div",{staticClass:"dishes_tags"},[t("ul",[t("li",[e._v("主食")]),e._v(" "),t("li",[e._v("家常菜")]),e._v(" "),t("li",[e._v("甜品")])])])])])]}}])}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"价格（自提/外卖）"},scopedSlots:e._u([{key:"default",fn:function(s){return[e._v("\n          8.8/10.8\n          ")]}}])}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"库存"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div",{staticClass:"dishes_count"},[s.row.bool?e._e():t("el-input",{directives:[{name:"focus",rawName:"v-focus",value:e.focusInput,expression:"focusInput"}],on:{blur:function(t){e.startReviseCount(s.$index)}},model:{value:s.row.num,callback:function(t){e.$set(s.row,"num",t)},expression:"scope.row.num"}}),e._v(" "),s.row.bool?t("span",{staticStyle:{color:"#000"}},[e._v(e._s(s.row.num))]):e._e(),e._v(" "),t("i",{staticClass:"el-icon-edit",on:{click:function(t){e.reviseCount(s.$index,s.row)}}})],1)]}}])}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"餐盒费"},scopedSlots:e._u([{key:"default",fn:function(s){return[e._v("\n            ￥1\n          ")]}}])}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("el-row",{staticClass:"dishes_topBottom"},[t("el-button",{attrs:{type:"danger"}},[e._v("下架")])],1)]}}])})],1)],1)])])},staticRenderFns:[]};var l=t("C7Lr")(n,o,!1,function(e){t("7V3b")},null,null);s.default=l.exports}});
//# sourceMappingURL=9.cb1d74bf4e158f7cecfa.js.map